<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}TalentFlow{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <header>
        <div class="header-inner">
            <a href="{{ url_for('main.dashboard') }}" class="logo">TalentFlow</a>
            <button class="menu-toggle" aria-label="Abrir menu" aria-expanded="false"></button>
            <nav class="site-nav">
                <ul>
                    <li><a href="{{ url_for('main.dashboard') }}" {% if request.endpoint in ['main.dashboard'] %}aria-current="page"{% endif %}>Dashboard</a></li>
                    <li><a href="{{ url_for('main.graficos') }}" {% if request.endpoint in ['main.graficos'] %}aria-current="page"{% endif %}>Gr√°ficos</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        {% block content %}{% endblock %}
    </main>

    <footer>
        <p>&copy; 2024 TalentFlow - Potencializando o Talento Interno.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const barrasProgresso = document.querySelectorAll('.barra-progresso');
            barrasProgresso.forEach(barra => {
                const percentual = barra.getAttribute('data-percentual');
                if (percentual) {
                    barra.style.width = percentual + '%';
                }
            });
            const heatmapCells = document.querySelectorAll('.heatmap-cell[data-percent]');
            heatmapCells.forEach(el => {
                const p = parseFloat(el.getAttribute('data-percent'));
                if (!isNaN(p)) {
                    el.style.background = 'linear-gradient(90deg, var(--cor-sucesso) ' + p + '%, #e0e0e0 ' + p + '%)';
                }
            });
            const toggle = document.querySelector('.menu-toggle');
            const nav = document.querySelector('.site-nav');
            if (toggle && nav) {
                toggle.addEventListener('click', function() {
                    const open = nav.classList.toggle('open');
                    toggle.setAttribute('aria-expanded', open ? 'true' : 'false');
                });
            }
        });
    </script>
</body>
</html>
